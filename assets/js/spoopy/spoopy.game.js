"use strict";require.config({paths:{jquery:"../jquery.min",underscore:"../underscore.min",pubsub:"../pubsub"}}),define(["jquery","underscore","pubsub","spoopy.rooms","spoopy.items","spoopy.player"],(e,n,s,t,o,i)=>{this.player=new i,e(document).ready(()=>{a(this.player),n.mapObject(t.rooms,n=>e("#nav ul").append(c(n)))});let c=n=>e("<li>").html(e("<a>",{text:n.name,href:"#",click:()=>s.publish("ENGINE_NAV_CLICK",n.name)}));(e=>{let s=[{name:"A",exits:3,tags:{},connections:[]},{name:"B",exits:2,tags:{},connections:[]},{name:"C",exits:1,tags:{},connections:[]},{name:"D",exits:1,tags:{},connections:[]},{name:"E",exits:2,tags:{},connections:[]},{name:"F",exits:4,tags:{},connections:[]},{name:"G",exits:1,tags:{},connections:[]},{name:"F",exits:1,tags:{},connections:[]},{name:"G",exits:2,tags:{},connections:[]},{name:"H",exits:2,tags:{},connections:[]}],t=(e,s)=>n.sample(n.filter(e,e=>!n.contains(s,e)))||void 0,o=[];for(let e of s){o.push(e);for(let i=0;i<n.random(1,e.exits);i++){let i=t(s,o);void 0!==i&&(o.push(i),e.connections.push(i),s[n.indexOf(s,i)].connections.push(e))}}console.log(s)})(t.rooms);let a=n=>{e("#header h1").text(n.loc),e("#content p").text(t.get_description(n.loc))};s.subscribe("ENGINE_NAV_CLICK",(e,n)=>a(this.player))});