"use strict";require.config({paths:{jquery:"../jquery.min",underscore:"../underscore.min",pubsub:"../pubsub"}}),define("spoopy.game",["jquery","underscore","pubsub","spoopy.rooms","spoopy.items","spoopy.player","spoopy.engine"],(e,t,n,s,i,a,r)=>{this.available=s.get_name_list(),this.player=new a,this.engine=new r(this.available),e(document).ready(()=>{let e={start:{loc:"Foyer",min_branches:3,max_branches:6},gens:1,gens_fn:function(){return t.random(1,3)},leaf_connections:3};this.engine.build_map(e),p(this.player)});let p=i=>{e("#header h1").text(this.player.loc),e("#content p").text(s.get_description(this.player.loc)),e("#nav ul").empty(),t.mapObject(this.engine.get_map_at(this.player.loc),t=>e("#nav ul").append((t=>e("<li>").html(e("<a>",{text:t,href:"#",click:()=>n.publish("ENGINE_NAV_CLICK",t)})))(t)))};n.subscribe("ENGINE_NAV_CLICK",(e,t)=>p(this.player))});